/**
 * pocketknife
 * @version v0.0.288
 * @link https://github.com/sw4/pocketknife
 * @copyright (c)2014 Pocketknife Ltd.
 * @license MIT (https://github.com/sw4/pocketknife/blob/master/LICENSE-MIT)
 *  
 * The MIT License (MIT)
 *  
 * Copyright (c) 2014 Pocketknife Ltd.
 *  
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *  
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *  
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var pk=pk||{};!function(e){return e.accordian=function(t){function n(t){t.style.height="auto";var n=e.layout(t).height;t.style.height="0",setTimeout(function(){t.style.height=n+"px"},10)}function r(t){for(var r=0;r<i.children.length;r++){var o=i.children[r].children[1];t&&i.children[r]!==t&&l===!1&&e.removeClass(i.children[r],"pk-show"),e.hasClass(i.children[r],"pk-show")?0!==parseInt(o.style.height,0)&&o.style.height||(a?n(o):o.style.height="auto"):o.style.height="0"}}var i=t.element,a=t.animate===!1?!1:t.animate||!0,l=t.multiple===!1?!1:t.multiple||!0;return e.bindEvent("click",i,function(t){e.hasClass(t.target,"pk-content-header")&&(e.toggleClass(t.target.parentNode,"pk-show"),r(t.target.parentNode))}),r(),{0:i}},e}(pk);var pk=pk||{};!function(e){return e.carousel=function(t){function n(t){g.val(e.attribute(t.target,"data-nav"))}var r=t.element,i=t.options||[],a=t.value||0,l=t.delay||4e3,o=!0,s=t.tabindex||r.getAttribute("tabindex")||0;if(0===i.length&&"UL"===r.nodeName)for(var d=0;d<r.children.length;d++)i.push(r.children[d].innerHTML);for(var c="<div class='pk-carousel' tabindex='"+s+"'><ul>",u=[],p=[],h=0;h<i.length;h++)p.push(e.createEl("<li class='pk-option'>"+i[h]+"</li>")),u.push(e.createEl("<span class='pk-nav-item' data-nav='="+h+"'>"+h+"</span>"));for(c+="</ul><span class='pk-nav-prev' data-nav='-1'></span><span data-nav='+1' class='pk-nav-next'></span></div>",r.innerHTML="",r=e.replaceEl(r,c),h=0;h<i.length;h++)r.children[0].appendChild(p[h]),r.appendChild(u[h]);for(var f in r.children)e.attribute(r.children[f],"data-nav")&&e.bindEvent("click",r.children[f],n);e.bindEvent("mousewheel",r,function(t){e.preventBubble(t),g.val(t.wheelDelta>0||t.detail<0?"-1":"+1")}),e.bindEvent("keydown",r,function(t){if(document.activeElement===r)switch(t.keyCode){case 34:case 40:case 37:g.val("-1"),e.preventBubble(t);break;case 33:case 32:case 38:case 39:g.val("+1"),e.preventBubble(t);break;case 36:g.val(0),e.preventBubble(t);break;case 35:g.val(i.length-1),e.preventBubble(t)}});var v,g={0:r,val:function(t){if(t=t.toString(),void 0===t)return a;var n="",r="";for(-1!==t.indexOf("-")?(a=a-parseInt(t.replace("-",""),0)<0?i.length-1:--a,n="left",r="right"):-1!==t.indexOf("+")?(a=a+parseInt(t.replace("+",""),0)>i.length-1?0:++a,n="right",r="left"):(a=parseInt(t.replace("=",""),0),a=0>a?0:a>i.length-1?i.length-1:a,void 0!==v&&a>v?(n="right",r="left"):(n="left",r="right")),h=0;h<i.length;h++)void 0!==v&&v===h?e.addClass(p[h],"pk-carousel-out-"+r):void 0!==v&&(e.removeClass(p[h],"pk-carousel-out-left"),e.removeClass(p[h],"pk-carousel-out-right")),parseInt(h,0)===a?(e.addClass(p[h],"pk-selected"),e.addClass(u[h],"pk-selected"),void 0!==v&&e.addClass(p[h],"pk-carousel-in-"+n)):(e.removeClass(p[h],"pk-selected"),e.removeClass(p[h],"pk-carousel-in-right"),e.removeClass(p[h],"pk-carousel-in-left"),e.removeClass(u[h],"pk-selected"));return v=a,o=!1,a}};return g.val(a),l&&setInterval(function(){o&&g.val("+1"),o=!0},l),g},e}(pk);var pk=pk||{};!function(e){return e.checkbox=function(t){var n=t.element,r=t.value||n.getAttribute("value")||0,i=t.label||n.getAttribute("label")||n.innerHTML,a=t.disabled||n.getAttribute("disabled")?"disabled":"",l=t.name||n.getAttribute("name")||"pk-checkbox-"+e.getRand(1,999),o=void 0===t.listeners?{}:t.listeners,s=t.tabindex||n.getAttribute("tabindex")||0,d="<label class='pk-checkbox' for='"+l+"'>		<input type = 'checkbox'  id = '"+l+"'  name = '"+l+"'  value = '"+r+"'  tabindex = '"+s+"' / >            <span class = 'pk-label' > "+i+" </span>		</label>";n.innerHTML="",n=e.replaceEl(n,d);var c={0:n,val:function(t){return void 0===t?r:void e.attribute(n.children[0],"checked",Boolean(t))},disabled:function(t){return void 0!==t&&(e.toggleClass(n,"pk-disabled",Boolean(t)),e.attribute(n.children[0],"disabled",Boolean(t))),e.attribute(n.children[0],"disabled")}};return c.val(r),a&&c.disabled(!0),e.bindListeners(o,n.children[0]),c},e}(pk);var pk=pk||{};!function(e){return e.colorpicker=function(t){function n(t,n){var r=n.x,a=n.y,l=t.parentNode,o=e.layout(l).height,s=e.layout(l).width,d=e.layout(t).height,c=e.layout(t).width,u=v;r&&(n.x<0?n.x=0:n.x>1&&(n.x=1),r*=s,0-c/2>r?r=-1*c/2:r>s-c/2&&(r=s-c/2),t.style.left=r+"px"),a&&(n.y<0?n.y=0:n.y>1&&(n.y=1),a*=o,0-d/2>a?a=-1*d/2:a>o-d/2&&(a=o-d/2),t.style.top=a+"px"),t===p&&(f.s=Math.round(100*n.x),f.v=Math.round(100*(1-n.y)),v=e.color.hsv2hex([f.h,f.s,f.v])),t===h&&(f.h=Math.round(360*n.y),v=e.color.hsv2hex([f.h,f.s,f.v]),p.parentNode.style.backgroundColor=e.color.hsv2hex([f.h,100,100])),i.change&&"function"==typeof i.change&&i.change(u,v)}var r=window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",i=void 0===t.listeners?{}:t.listeners,a=t.element,l=t.value||"#000000",o="<div class='pk-colorpicker'>				<div class='pk-colorpicker-area'>					<div class='pk-colorpicker-slPicker'></div>				</div>				<div class='pk-colorpicker-range'>					<div class='pk-colorpicker-hPicker'></div>				</div>			</div>";a=e.replaceEl(a,o);var s,d,c,u;"SVG"===r?(s="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='100%' height='100%'>				<defs>					<linearGradient id='gradient-black-0' x1='0%' y1='100%' x2='0%' y2='0%'>						<stop offset='0%' stop-color='#000000' stop-opacity='1'></stop>						<stop offset='100%' stop-color='#CC9A81' stop-opacity='0'></stop>					</linearGradient>					<linearGradient id='gradient-white-0' x1='0%' y1='100%' x2='100%' y2='100%'>						<stop offset='0%' stop-color='#FFFFFF' stop-opacity='1'></stop>						<stop offset='100%' stop-color='#CC9A81' stop-opacity='0'></stop>					</linearGradient>				</defs>				<rect x='0' y='0' width='100%' height='100%' fill='url(#gradient-white-0)'></rect>				<rect x='0' y='0' width='100%' height='100%' fill='url(#gradient-black-0)'></rect>			</svg>",c="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='100%' height='100%'>				<defs>					<linearGradient id='gradient-hsv-0' x1='0%' y1='100%' x2='0%' y2='0%'>						<stop offset='0%' stop-color='#FF0000' stop-opacity='1'></stop>						<stop offset='13%' stop-color='#FF00FF' stop-opacity='1'></stop>						<stop offset='25%' stop-color='#8000FF' stop-opacity='1'></stop>						<stop offset='38%' stop-color='#0040FF' stop-opacity='1'></stop>						<stop offset='50%' stop-color='#00FFFF' stop-opacity='1'></stop>						<stop offset='63%' stop-color='#00FF40' stop-opacity='1'></stop>						<stop offset='75%' stop-color='#0BED00' stop-opacity='1'></stop>						<stop offset='88%' stop-color='#FFFF00' stop-opacity='1'></stop>						<stop offset='100%' stop-color='#FF0000' stop-opacity='1'></stop>					</linearGradient>				</defs>				<rect x='0' y='0' width='100%' height='100%' fill='url(#gradient-hsv-0)'></rect>			</svg>"):"VML"===r&&(s="<DIV style='position: relative; width: 100%; height: 100%'>				<v:rect style='position: absolute; top: 0; left: 0; width: 100%; height: 100%' stroked='f' filled='t'>				<v:fill type='gradient' method='none' angle='0' color='red' color2='red' colors='8519f fuchsia;.25 #8000ff;24903f #0040ff;.5 aqua;41287f #00ff40;.75 #0bed00;57671f yellow'></v:fill>				</v:rect>			</DIV>",c="<DIV style='position: relative; width: 100%; height: 100%'>				<v:rect style='position: absolute; left: -1px; top: -1px; width: 101%; height: 101%' stroked='f' filled='t'>					<v:fill type='gradient' method='none' angle='270' color='#FFFFFF' opacity='100%' color2='#CC9A81' o:opacity2='0%'></v:fill>				</v:rect>				<v:rect style='position: absolute; left: 0px; top: 0px; width: 100%; height: 101%' stroked='f' filled='t'>					<v:fill type='gradient' method='none' angle='0' color='#000000' opacity='100%' color2='#CC9A81' o:opacity2='0%'></v:fill>				</v:rect>			</DIV>",document.namespaces.v||document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML")),d=e.createEl(s),u=e.createEl(c),a.children[0].appendChild(d),a.children[1].appendChild(u);var p=a.children[0].children[0],h=a.children[1].children[0],f={h:0,s:0,v:0},v="#ffffff";e.bindEvent("click",p.parentNode,function(t){t.target!==p&&n(p,{x:(e.getEventOffset(t).x-e.layout(p).width/2)/e.layout(p.parentNode).width,y:(e.getEventOffset(t).y-e.layout(p).height/2)/e.layout(p.parentNode).width})}),e.bindEvent("click",h.parentNode,function(t){t.target!==h&&n(h,{x:!1,y:e.getEventOffset(t).y/e.layout(h.parentNode).height})}),e.drag({element:h.parentNode,move:!1,container:{element:h.parentNode},listeners:{dragging:function(e,t){n(h,{x:!1,y:t.dragPerc.y})}}}),e.drag({element:p.parentNode,move:!1,container:{element:p.parentNode},listeners:{dragging:function(e,t){n(p,t.dragPerc)}}});var g={0:a,val:function(t){if(!t)return v;var r=e.color.hex2hsv(t);f={h:r[0],s:r[1],v:r[2]},n(h,{x:!1,y:f.h/360}),n(p,{x:f.s/100,y:1-f.v/100})}};return g.val(l),g},e}(pk),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null===this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length||0;if(0===i)return-1;var a=+t||0;if(1/0===Math.abs(a)&&(a=0),a>=i)return-1;for(n=Math.max(a>=0?a:i-Math.abs(a),0);i>n;){if(n in r&&r[n]===e)return n;n++}return-1});var pk=pk||{};!function(e){e.preventBubble=function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1},e.toggleClass=function(t,n,r){return r===!0?(e.addClass(t,n),!0):r===!1?(e.removeClass(t,n),!1):(e.toggleClass(t,n,!e.hasClass(t,n)),e.hasClass(t,n))},e.hasClass=function(e,t){var n=e.getAttribute("class")||"";return n&&n.indexOf(t)>-1?!0:!1},e.center=function(e){return e.style.top=e.parentNode.clientHeight/2-e.offsetHeight/2+"px",e.style.left=e.parentNode.clientWidth/2-e.offsetWidth/2+"px",e},e.getStyle=function(e,t){return window.getComputedStyle(e).getPropertyValue(t)},e.addClass=function(t,n){if(!e.hasClass(t,n)){var r=t.getAttribute("class")||"";return t.setAttribute("class",(r?r+" ":"")+n),t}},e.removeClass=function(e,t){var n=e.getAttribute("class");if(n)return n===t?e.removeAttribute("class"):e.setAttribute("class",n.replace(t,"").trim()),e},e.bindEvent=function(e,t,n){return"mousewheel"===e&&(e=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"),t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n),t},e.unbindEvent=function(e,t,n){return t.removeEventListener&&t.removeEventListener(e,n,!1),t.detachEvent&&t.detachEvent("on"+e,n),t},e.layout=function(e,t){var n=t?e.getBoundingClientRect().top:e.offsetTop,r=t?e.getBoundingClientRect().left:e.offsetLeft,i=e.offsetHeight,a=e.offsetWidth;return{top:n,left:r,right:r+a,bottom:n+i,height:i,width:a}},e.bindListeners=function(t,n){for(var r in t)t.hasOwnProperty(r)&&e.bindEvent(r,n,t[r]);return n},e.getRand=function(e,t){return Math.floor(Math.random()*(t-e))+e},e.getUnits=function(e){return e.replace(/\d+/,"")},e.wrapEl=function(t,n){var r=e.createEl(n);return t.parentNode.insertBefore(r,t),r.appendChild(t),r},e.createEl=function(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]},e.getIndex=function(e){if(!e)return null;for(var t=document.body.previousElementSibling?"previousElementSibling":"previousSibling",n=1;e=e[t];)++n;return n-1},e.replaceEl=function(t,n){for(var r=e.createEl(n),i=0;i<t.attributes.length;i++)r.setAttribute(t.attributes[i].nodeName,t.attributes[i].value);for(;t.firstChild;)r.appendChild(t.firstChild);return t.parentNode.replaceChild(r,t),r},e.toArr=function(e){var t=[];return e&&"object"!=typeof e?-1!==e.indexOf(",")?t=e.split(","):t.push(e):t=e,t},e.collide=function(t,n,r){if(r=r||0,t=e.toArr(t),n=e.toArr(n),0===r)return n;for(var i=0;i<n.length;i++){var a=-1!==t.indexOf(n[i])?!0:!1;a||1!==r&&3!==r?!a||2!==r&&3!==r||t.splice(parseInt(t.indexOf(n[i]),0),1):t.push(n[i])}return t},e.attribute=function(e,t,n){return"object"!=typeof e?!1:(t=e.hasAttribute(t)?t:e.hasAttribute("data-"+t)?"data-"+t:t,void 0===n?"selected"===t||"disabled"===t||"checked"===t?e.hasAttribute(t)?!0:e[t]:e.getAttribute(t):(n!==!1||"selected"!==t&&"disabled"!==t&&"checked"!==t?(e.setAttribute(t,n),e[t]=!0):(e.removeAttribute(t),e[t]=!1),e))},e.getEventOffset=function(e){return{x:void 0===e.offsetX?e.layerX:e.offsetX,y:void 0===e.offsetY?e.layerY:e.offsetY}},e.addClass(document.body,"pk-ui")}(pk);var pk=pk||{};!function(e){e.drag=function(t){function n(t){return t.dragStart=u,t.dragOffset=d,t.dragEnd={x:t.clientX,y:t.clientY},t.dragDist={x:t.dragEnd.x-t.dragStart.x,y:t.dragEnd.y-t.dragStart.y},t.dragPerc={x:(e.layout(i).left+t.dragDist.x+t.dragOffset.x)/e.layout(l.element).width,y:(e.layout(i).top+t.dragDist.y+t.dragOffset.y)/e.layout(l.element).height},t}function r(){var e="BODY"===l.element.tagName?document.documentElement.clientHeight:l.element.offsetHeight,t="BODY"===l.element.tagName?document.documentElement.clientWidth:l.element.offsetWidth,n=l.style.x||0,r=l.style.y||0;s.x&&i.offsetLeft<0+n?i.style.left=0+n+"px":s.x&&i.offsetLeft>t-i.offsetWidth-n&&(i.style.left=t-i.offsetWidth-n+"px"),s.y&&i.offsetTop<0+r?i.style.top=0+r+"px":s.y&&i.offsetTop>e-i.offsetHeight-r&&(i.style.top=e-i.offsetHeight-r+"px")}var i=t.element,a=t.handle||t.element,l={element:t.container&&t.container.element?t.container.element:document.body,style:t.container&&t.container.style?t.container.style:"restrict"};e.addClass(a,"pk-drag");var o=t.listeners,s=t.move;s&&"object"!=typeof s&&(s={x:!0,y:!0});var d,c=!1,u={},p={},h={};return e.bindEvent("mousedown",a,function(t){c=!0,u={x:t.clientX,y:t.clientY},d={x:t.clientX-i.getBoundingClientRect().left,y:t.clientY-i.getBoundingClientRect().top},t=n(t),e.addClass(a,"pk-drag-dragging"),e.addClass(document.body,"pk-noselect"),document.onselectstart=function(){return!1},p=e.layout(l.element),h=e.layout(i),o&&o.dragstart&&o.dragstart(i,t)}),e.bindEvent("mouseup",window,function(t){c&&(c=!1,t=n(t),e.removeClass(a,"pk-drag-dragging"),e.removeClass(document.body,"pk-noselect"),document.onselectstart=function(){return!0},s&&"snap"===l.style&&r(),o&&o.dragend&&o.dragend(i,t))}),e.bindEvent("mousemove",window,function(e){c&&(e=n(e),s.x&&(i.style.left=i.offsetLeft+(e.dragEnd.x-i.getBoundingClientRect().left)-e.dragOffset.x+"px"),s.y&&(i.style.top=i.offsetTop+(e.dragEnd.y-i.getBoundingClientRect().top)-e.dragOffset.y+"px"),("restrict"===l.style||l.style.x||l.style.y)&&r(),o&&o.dragging&&o.dragging(i,e))}),{0:i}}}(pk);var pk=pk||{};!function(e){return e.modal=function(t){function n(){e.removeClass(l,"pk-show"),setTimeout(function(){l.parentNode.removeChild(l)},500)}var r=t.header,i=t.content,a="<div class='pk-modal-mask'>			<div class='pk-modal-box pk-animated'>				<div class='pk-modal-header'>"+r+"<span class='pk-modal-close'></span></div>				<div class='pk-modal-content'>"+i+"</div>			</div>		</div>",l=e.createEl(a),o=l.children[0],s=o.children[0],d=s.children[0];document.body.children.length>0?document.body.insertBefore(l,document.body.children[0]):document.body.appendChild(l),e.bindEvent("click",l,function(e){e.target===l&&n()}),e.bindEvent("click",d,n),e.bindEvent("resize",window,function(){e.center(o)}),setTimeout(function(){e.addClass(l,"pk-show")},10);var c=o.offsetHeight||0;return setInterval(function(){var t=o.offsetHeight;c!==t&&(e.center(o),c=t)},500),e.center(o),t.draggable!==!1&&e.drag&&e.drag({element:o,handle:s,move:!0,listeners:{dragstart:function(){e.removeClass(o,"pk-animated")},dragend:function(){e.addClass(o,"pk-animated")}}}),{0:l,close:n}},e}(pk);var pk=pk||{};!function(e){var t=e.createEl("<ul class='pk-notify'></ul>");document.body.appendChild(t),e.notify={push:function(n){var r=e.createEl("<li tabindex='"+e.getRand(1,999)+"'>"+n.content+"</li>"),i=n.delay||8e3;t.appendChild(r),setTimeout(function(){e.addClass(r,"pk-show")},10);var a=this;return setTimeout(function(){a.dismiss(r)},i),e.bindEvent("click",r,function(){a.dismiss(r)}),{0:r}},dismiss:function(n){e.hasClass(n,"pk-show")&&(e.removeClass(n,"pk-show"),setTimeout(function(){n&&t.removeChild(n)},1e3))}}}(pk);var pk=pk||{};!function(e){return e.rating=function(t){function n(){d===h.val()&&h.val(h.val()-1),d=h.val()}var r=t.element,i=void 0===t.listeners?{}:t.listeners,a=t.value||r.getAttribute("value")||0,l=t.disabled||r.getAttribute("disabled")?"disabled":"",o=t.name||r.getAttribute("name")||"pk-rating-"+e.getRand(1,999),s=t.tabindex||r.getAttribute("tabindex")||0,d=a,c="<div class='pk-rating'>            <fieldset>                <input type='radio' id='"+o+"_5' name='"+o+"' value='5' tabindex='"+s+"'/>                <label for='"+o+"_5'></label>                <input type='radio' id='"+o+"_4' name='"+o+"' value='4' />                <label for='"+o+"_4'></label>                <input type='radio' id='"+o+"_3' name='"+o+"' value='3' />                <label for='"+o+"_3'></label>                <input type='radio' id='"+o+"_2' name='"+o+"' value='2' />                <label for='"+o+"_2'></label>                <input type='radio' id='"+o+"_1' name='"+o+"' value='1' />                <label for='"+o+"_1'></label>            </fieldset>        </div>";r=e.replaceEl(r,c);var u=[];u.push(r.children[0].children[8]),u.push(r.children[0].children[6]),u.push(r.children[0].children[4]),u.push(r.children[0].children[2]),u.push(r.children[0].children[0]),e.bindListeners(i,u[0]),e.bindListeners(i,u[1]),e.bindListeners(i,u[2]),e.bindListeners(i,u[3]),e.bindListeners(i,u[4]),e.bindEvent("mousewheel",r,function(t){e.preventBubble(t);var n=1;(t.wheelDelta>0||t.detail<0)&&(n=-1),h.val(h.val()+n)});for(var p=0;p<u.length;p++)e.bindEvent("click",u[p],n);var h={0:r,val:function(e){if(void 0===e){for(var t in u)if(u[t].checked){e=u[t].value;break}return parseInt(void 0===e?0:e,0)}e=0>e?0:e,e=e>5?5:e,0===e?(u[0].checked=!0,u[0].checked=!1):u[e-1].checked=!0,d=e},disabled:function(t){if(void 0!==t){e.toggleClass(r,"pk-disabled",t);for(var n=0;n<u.length;n++)e.attribute(u[n],"disabled",t)}return e.attribute(u[0],"disabled")}};return h.val(a),l&&h.disabled(!0),h},e}(pk);var pk=pk||{};!function(e){return"object"==typeof jQuery&&jQuery.fn.extend({pkScroll:function(t){e.scroll({element:this[0],axis:t})}}),"object"==typeof angular&&!function(){angular.module("pk-scroll",["ng"]).directive("pkScroll",function(){return{restrict:"A",link:function(t,n){e.scroll({element:n[0],axis:n[0].getAttribute("pk-scroll")})}}})}(),e.scroll=function(t){function n(){x=c.scrollHeight,C=c.scrollWidth,w=s.offsetHeight,E=s.offsetWidth,B.indexOf("y")>-1&&x>w?(b=!0,e.addClass(s,"pk-scroll-enableY"),v=p.offsetHeight,c.scrollTop=(x-w)*m):(b=!1,e.removeClass(s,"pk-scroll-enableY"),c.scrollTop=0),B.indexOf("x")>-1&&C>E?(k=!0,e.addClass(s,"pk-scroll-enableX"),g=f.offsetWidth,c.scrollLeft=(C-E)*y):(k=!1,e.removeClass(s,"pk-scroll-enableX"),c.scrollLeft=0)}function r(t){var n=.1;(t.wheelDelta>0||t.detail<0)&&(n=-1*n),b?c.scrollTop=Math.round(c.scrollTop+(x-w)*n):c.scrollLeft=Math.round(c.scrollLeft+(C-E)*n),e.preventBubble(t)}function i(e){return e.targetTouches&&e.targetTouches.length>=1?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:{x:e.clientX,y:e.clientY}}function a(e){return F=!0,O=i(e),e.preventDefault(),e.stopPropagation(),!1}function l(e){return F=!1,e.preventDefault(),e.stopPropagation(),!1}function o(e){var t,n,r;return F&&(t=i(e),r=O.y-t.y,n=O.x-t.x,(r>2||-2>r)&&(O.y=t.y,c.scrollTop+=r),(n>2||-2>n)&&(O.x=t.x,c.scrollLeft+=n)),e.preventDefault(),e.stopPropagation(),!1}var s=t.element,d="<div class='pk-scroll-container'>            <"+s.nodeName+" class='pk-scroll-content'>                "+s.innerHTML+"            </"+s.nodeName+">            <div class='pk-scroll-trackY'>                <div class='pk-scroll-floatY'></div>            </div>            <div class='pk-scroll-trackX'>                <div class='pk-scroll-floatX'></div>            </div>        </div>";s.innerHTML="",s=e.replaceEl(s,d);var c=s.children[0],u=s.children[1],p=u.children[0],h=s.children[2],f=h.children[0],v=0,g=0,b=!1,k=!1,m=0,y=0,x=0,C=0,w=0,E=0,A=0,M=0,L=0,T=0,B=t.axis?t.axis.toLowerCase():e.attribute(s,"pk-scroll")?e.attribute(s,"pk-scroll"):"y";"static"===e.getStyle(s,"position")&&(s.style.position="relative"),e.bindEvent("scroll",c,function(){m=c.scrollTop/(x-w),y=c.scrollLeft/(C-E),m=0>m?0:m>1?1:m,y=0>y?0:y>1?1:y,p.style.top=(w-v)*m+"px",f.style.left=(E-g)*y+"px"}),n(),setInterval(function(){var e=s.offsetWidth,t=s.offsetHeight,r=c.scrollWidth,i=c.scrollHeight;(e!==L||t!==T||r!==A||i!==M)&&(A=r,M=i,L=e,T=t,n())},500),b&&e.drag({element:p,move:{y:!0},container:{element:u},listeners:{dragging:function(){c.scrollTop=(x-w)*(p.offsetTop/(u.offsetHeight-p.offsetHeight))}}}),k&&e.drag({element:f,move:{x:!0},container:{element:h},listeners:{dragging:function(){c.scrollLeft=(C-E)*(f.offsetLeft/(h.offsetWidth-f.offsetWidth))}}}),e.bindEvent("click",p,function(t){e.preventBubble(t)}),e.bindEvent("click",f,function(t){e.preventBubble(t)}),e.bindEvent("click",u,function(t){c.scrollTop=e.getEventOffset(t).y/w*(x-w)}),e.bindEvent("click",h,function(t){c.scrollLeft=e.getEventOffset(t).x/E*(C-E)}),e.bindEvent("mousewheel",c,r);var F=!1,O={};"undefined"!=typeof window.ontouchstart&&(e.bindEvent("touchstart",c[0],a),e.bindEvent("touchmove",c[0],o),e.bindEvent("touchend",window,l)),c.setAttribute("tabindex",0),e.bindEvent("keydown",c,function(t){if(document.activeElement===c){if(b)switch(t.keyCode){case 38:c.scrollTop-=.1*w,e.preventBubble(t);break;case 40:case 32:c.scrollTop+=.1*w,e.preventBubble(t);break;case 33:c.scrollTop-=w,e.preventBubble(t);break;case 34:c.scrollTop+=w,e.preventBubble(t);break;case 36:c.scrollTop=0,e.preventBubble(t);break;case 35:c.scrollTop=x,e.preventBubble(t)}if(k)switch(t.keyCode){case 37:c.scrollLeft-=.1*E,e.preventBubble(t);break;case 39:c.scrollLeft+=.1*E,e.preventBubble(t)}return{0:s}}})},e}(pk);var pk=pk||{};!function(e){return e.select=function(t){function n(){var t="";s||a.splice(1,a.length-1);for(var n=0;n<i.length;n++)i[n].selected=-1!==a.indexOf(i[n].value)?!0:!1,e.toggleClass(m.children[n],"pk-selected",i[n].selected),i[n].selected&&(t=s?t+="<span class='pk-select-value-tag' data-value='"+i[n].value+"'>"+i[n].name+"</span>":i[n].name);b.innerHTML=t?t:d,a.length<1?e.addClass(b,"pk-placeholder"):e.removeClass(b,"pk-placeholder"),k.value=s?a:a.join("")}var r=t.element,i=t.options||[],a=t.value||e.attribute(r,"value")||[],l=t.name||e.attribute(r,"name")||"pk-select-"+e.getRand(1,999),o=Boolean(t.dropdown),s=Boolean(t.multiple)===!0||e.attribute(r,"multiple")?!0:!1,d=t.placeholder||e.attribute(r,"placeholder")||"Please select...",c=t.disabled||r.getAttribute("disabled")?"disabled":"",u=t.tabindex||r.getAttribute("tabindex")||0;if(l=s&&-1===l.indexOf("[]")?l+"[]":l.replace("[]",""),a=e.toArr(a),0===i.length&&("SELECT"===r.nodeName||"UL"===r.nodeName))for(var p=0;p<r.children.length;p++){var h=e.attribute(r.children[p],"value"),f=r.children[p].innerHTML;h=h||f,e.attribute(r.children[p],"selected")&&-1===a.indexOf(h)&&a.push(h),i.push({name:f,value:h})}for(var v="<div class='pk-select "+(s?"pk-select-multiple":"")+" "+(o?"pk-select-dropdown":"")+" "+(c?"pk-disabled":"")+"' tabindex='"+u+"'>                <input type='hidden' name='"+l+"'/>                <div class='pk-select-value "+(!a||a.length<1?"pk-placeholder":"")+"'>sdsd</div>            <ul>",g=0;g<i.length;g++)v+="<li class='pk-option' data-value='"+i[g].value+"'>"+i[g].name+"</li>";v+="</ul></div>",r.innerHTML="",r=e.replaceEl(r,v);var b=r.children[1],k=r.children[0],m=r.children[2];if(o&&!c){var y=document.body.insertBefore(e.createEl("<div class='pk-overlay'></div>"),document.body.children[0]);e.bindEvent("click",y,function(){e.removeClass(y,"pk-show"),e.toggleClass(r,"pk-show")}),e.bindEvent("click",r,function(t){e.attribute(t.target,"data-value")&&e.hasClass(t.target,"pk-select-value-tag")&&(a=e.collide(a,e.attribute(t.target,"data-value"),2),n()),e.hasClass(t.target,"pk-select-value-tag")||s&&e.hasClass(t.target,"pk-option")||!e.hasClass(r,"pk-show")?(e.addClass(y,"pk-show"),e.addClass(r,"pk-show")):(e.removeClass(y,"pk-show"),e.removeClass(r,"pk-show"))})}return c||e.bindEvent("click",m,function(t){"LI"===t.target.nodeName&&(a=s?e.collide(a,i[e.getIndex(t.target)].value,3):e.collide(a,i[e.getIndex(t.target)].value),n())}),n(),{0:r}},e}(pk);var pk=pk||{};!function(e){return e.slider=function(t){var n=t.element,r=void 0===t.units?"":t.units,i=void 0===t.listeners?{}:t.listeners,a=t.min||0,l=t.max||100,o=t.axis,s=Math.abs(l-a),d=t.value||n.getAttribute("value")||0,c=t.disabled||n.getAttribute("disabled")?"disabled":"",u=t.name||n.getAttribute("name")||"pk-slider-"+e.getRand(1,999),p=t.tabindex||n.getAttribute("tabindex")||0;o&&(o.indexOf("x")<0||o.indexOf("y")<0)||(o="x");var h="<div class='pk-slider pk-slider-"+o+" "+(c?"pk-disabled":"")+"' tabindex='"+p+"'>            <input type='hidden' name='"+u+"' "+c+" value='"+d+"'/>            <div class='pk-slider-bar pk-animated'>                <span class='pk-slider-value'></span><span class='pk-slider-units'></span>            </div>            <div class='pk-slider-mask'></div>        </div>";n=e.replaceEl(n,h);var f=n.children[2],v=n.children[1],g=n.children[0],b=v.children[0],k=v.children[1];e.bindListeners(i,g),e.drag({element:f,contain:{element:n},move:!1,listeners:{dragging:function(t,n){if(m.disabled())return!1;var r="x"===o?(n.dragDist.x+n.dragOffset.x)/e.layout(t).width:1-(n.dragDist.y+n.dragOffset.y)/e.layout(t).height;r=0>r?0:r,r=r>1?1:r,m.val(a+Math.round(r*s)),i&&i.sliding&&i.sliding(t,n)},dragstart:function(t,n){return m.disabled()?!1:(i&&i.slidestart&&i.slidestart(t,n),void e.removeClass(v,"pk-animated"))},dragend:function(t,n){return m.disabled()?!1:(i&&i.slideend&&i.slideend(t,n),void e.addClass(v,"pk-animated"))}}}),e.bindEvent("click",f,function(t){if(m.disabled())return!1;var r="x"===o?(t.clientX-f.getBoundingClientRect().left)/e.layout(n).width:1-(t.clientY-f.getBoundingClientRect().top)/e.layout(n).height;m.val(a+Math.round(r*s))}),e.bindEvent("mousewheel",n,function(t){if(e.preventBubble(t),m.disabled())return!1;var n=.1;(t.wheelDelta>0||t.detail<0)&&(n=-1*n),m.val(s*n+parseInt(m.val(),0))});var m={0:n,val:function(e,t){return void 0===e||m.disabled()&&!t?g.value:(e=a>e?a:e,e=e>l?l:e,g.value=e,"x"===o?v.style.width=100*(e-a)/s+"%":v.style.height=100*(e-a)/s+"%",b.innerHTML=e,void(k.innerHTML=r))},disabled:function(t){return void 0!==t&&(e.toggleClass(n,"pk-disabled",t),e.attribute(g,"disabled",t)),e.attribute(g,"disabled")}};return m.val(d,!0),m},e}(pk);var pk=pk||{};!function(e){return e.toggle=function(t){function n(t){g.val(e.attribute(t.target,"data-value"))}var r=t.element,i=t.options||[],a=void 0!==t.value?t.value:void 0!==e.attribute(r,"value")?e.attribute(r,"value"):i[0].value,l=void 0===t.listeners?{}:t.listeners,o=t.disabled||r.getAttribute("disabled")?"disabled":"",s=t.name||r.getAttribute("name")||"pk-toggle-"+e.getRand(1,999),d=t.tabindex||r.getAttribute("tabindex")||0;if(i){var c="<div class='pk-toggle "+(o?"pk-disabled":"")+"' tabindex='"+d+"'>			<input type='hidden' name = '"+s+"' value='"+a+"'/>			<div class='pk-toggle-indicator' style='width:"+100/i.length+"%'></div>		</div>";c+="",r.innerHTML="",r=e.replaceEl(r,c);for(var u=[],p=0;p<i.length;p++){var h=e.createEl("<div class='pk-option' style='width:"+100/i.length+"%' data-value='"+i[p].value+"'>"+i[p].name+"</div>");r.appendChild(h),u.push(h)}var f=r.children[0],v=r.children[1],g={0:r,val:function(t){if(void 0===t)return f.value;t=t.toString()||i[0].value.toString();for(var n=0;n<i.length;n++)i[n].value.toString()===t?(v.style.left=100*parseInt(n,0)/i.length+"%",f.value=t,e.addClass(u[n],"pk-selected")):e.removeClass(u[n],"pk-selected")},disabled:function(t){return void 0!==t&&(e.toggleClass(r,"pk-disabled",t),e.attribute(f,"disabled",t)),e.attribute(f,"disabled")}};for(g.val(a),p=0;p<i.length;p++)e.bindListeners(l,u[p]),o||e.bindEvent("click",u[p],n);return g}},e}(pk);var pk=pk||{};!function(e){return e.color={hex2rgb:function(e){var t,n,r,i,a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return e=e.replace(a,function(e,t,n){return e+e+t+t+n+n}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n=parseInt(t[1],16),r=parseInt(t[2],16),i=parseInt(t[3],16),[n,r,i]},rgb2hex:function(t){t=e.toArr(t);var n,r,i,a="";for(r=0;r<t.length;r+=1)i=t[r],n=i.toString(16),n=1===n.length?"0"+n:n,a+=n;return"#"+a},rgb2hsv:function(t){t=e.toArr(t);var n,r,i=t[0],a=t[1],l=t[2],o=Math.min(i,a,l),s=Math.max(i,a,l),d=s-o,c=s;return c=Math.floor(s/255*100),0===s?[0,0,0]:(r=Math.floor(d/s*100),n=0===d?0:i===s?d(a-l)/d:a===s?2+(l-i)/d:4+(i-a)/d,n=Math.floor(60*n),0>n&&(n+=360),[n,r,c])},hsv2rgb:function(t){t=e.toArr(t);var n,r,i,a,l,o,s,d,c=t[0],u=t[1],p=t[2];if(c=Math.max(0,Math.min(360,c)),u=Math.max(0,Math.min(100,u)),p=Math.max(0,Math.min(100,p)),u/=100,p/=100,c=360===c?0:c,0===u)return n=r=i=p,[Math.round(255*n),Math.round(255*r),Math.round(255*i)];switch(c/=60,a=Math.floor(c),l=c-a,o=p*(1-u),s=p*(1-u*l),d=p*(1-u*(1-l)),a){case 0:n=p,r=d,i=o;break;case 1:n=s,r=p,i=o;break;case 2:n=o,r=p,i=d;break;case 3:n=o,r=s,i=p;break;case 4:n=d,r=o,i=p;break;case 5:n=p,r=o,i=s}return n=Math.round(255*n),r=Math.round(255*r),i=Math.round(255*i),[n,r,i]},rgb2hsl:function(t){t=e.toArr(t);var n=t[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var a,l,o=Math.max(n,r,i),s=Math.min(n,r,i),d=(o+s)/2;if(o===s)a=l=0;else{var c=o-s;switch(l=d>.5?c/(2-o-s):c/(o+s),o){case n:a=(r-i)/c+(i>r?6:0);break;case r:a=(i-n)/c+2;break;case i:a=(n-r)/c+4}a/=6}return[a,l,d]},hsl2rgb:function(t){function n(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e}t=e.toArr(t);var r,i,a,l=t[0],o=t[1],s=t[2];if(0===o)r=i=a=s;else{var d=.5>s?s*(1+o):s+o-s*o,c=2*s-d;r=n(c,d,l+1/3),i=n(c,d,l),a=n(c,d,l-1/3)}return[255*r,255*i,255*a]},hex2hsl:function(e){return this.rgb2hsl(this.hex2rgb(e))},hsl2hex:function(t){return this.rgb2hex(this.hsl2rgb(e.toArr(t)))},hsv2hsl:function(t){return this.rgb2hsl(this.hsv2rgb(e.toArr(t)))},hsl2hsv:function(t){return this.rgb2hsv(this.hsl2rgb(e.toArr(t)))},hex2hsv:function(e){return this.rgb2hsv(this.hex2rgb(e))},hsv2hex:function(t){return this.rgb2hex(this.hsv2rgb(e.toArr(t)))},random:function(e){var t,n=[];for(e="number"!=typeof e?1:e,t=0;e>t;t+=1)n.push("#"+Math.floor(16777215*Math.random()).toString(16));return n},complement:function(e,t){var n=1,r=180,i=0;switch(t){case"split":n=3,r=180,i=180;break;case"double":n=5,r=180,i=180}return this.algorithmic({hex:e,count:n,scope:i,rotation:180})},triadic:function(e){return this.algorithmic({hex:e})},tetradic:function(e){return this.algorithmic({hex:e,count:4})},pentadic:function(e){return this.algorithmic({hex:e,count:5})},degrees:function(e,t){return e+=t,e>360?e-=360:0>e&&(e+=360),e},algorithmic:function(e){var t=e.count&&"number"!=typeof e.count?3:e.count;for(type=e.type&&"string"!=typeof e.type?"hue":e.type,scope=e.scope&&"number"!=typeof e.scope?360:e.scope,rotation=e.rotation&&"number"!=typeof e.rotation?0:e.rotation,hex=e.hex,hsv=this.hex2hsv(hex),h=hsv[0],s=hsv[1],v=hsv[2],palette=[],i,steps="hue"!==type||360!==scope&&0!==scope?scope/(t-1):scope/t,origin=360===scope?0:this.degrees(this.degrees(h,rotation),-1*scope/2),i=0;t>i;i+=1)switch(offset=steps*i,type){case"hue":palette.push(this.hsv2hex([360===this.degrees(origin,offset,360)?0:this.degrees(origin,offset,360),s,v]));break;case"saturation":palette.push(this.hsv2hex([h,offset,v]));break;case"value":case"lightness":case"brightness":palette.push(this.hsv2hex([h,s,offset]))}return palette}},e}(pk);